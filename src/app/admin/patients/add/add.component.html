<div class="page-layout carded fullwidth tabbed " id="patients">

    <!-- TOP BACKGROUND -->
    <div class="top-bg accent"></div>
    <!-- / TOP BACKGROUND -->

    <!-- CENTER -->
    <div class="center">

        <!-- HEADER -->
        <div class="header accent p-16 p-sm-24" fxLayout="column" fxLayout.gt-xs="row"
             fxLayoutAlign="start" fxLayoutAlign.gt-xs="space-between center">

            <!-- APP TITLE -->
            <div fxLayout="row" fxLayoutAlign="start center">

                <div class="logo" fxLayout="row" fxLayoutAlign="start center">
                    <mat-icon [@animate]="{value:'*',params:{delay:'50ms',scale:'0.2'}}"
                              class="logo-icon mr-16">person_add
                    </mat-icon>
                    <span [@animate]="{value:'*',params:{delay:'100ms',x:'-25px'}}"
                          class="logo-text h1">New Patient : &nbsp;</span>
                    <span [@animate]="{value:'*',params:{delay:'300ms',x:'-25px'}}"
                          class="logo-text h2"> <strong>{{patientfileno.no}}</strong></span>
                </div>

            </div>
            <div fxLayout="row" fxLayoutAlign="start end">
                <span [@animate]="{value:'*',params:{delay:'100ms',x:'-25px'}}"
                      class="logo-text h3">{{gettime()}}</span>
            </div>
            <!-- / APP TITLE -->

        </div>

        <!-- CONTENT CARD -->
        <div class="content-card">

            <!-- CONTENT -->
            <div class="content">

                <form [formGroup]="patientsForm" class=" p-24 m-24" fxFlex="1 0 auto"
                      fxLayout="column" fxLayoutAlign="start" name="form" (ngSubmit)="submitPatientsForm()">

                    <!--<div class="h2 mb-24">New Patient</div>-->

                    <!--First name, second name-->
                    <div fxFlex="1 0 auto" fxLayout="row" fxLayoutAlign="start center">

                        <mat-form-field appearance="outline" class="pr-4" fxFlex="50">
                            <mat-label>First name</mat-label>
                            <input formControlName="firstName" matInput required>
                            <mat-icon class="secondary-text" matSuffix>account_circle</mat-icon>
                            <mat-error>First Name is required!</mat-error>
                        </mat-form-field>

                        <mat-form-field appearance="outline" class="pl-4" fxFlex="50">
                            <mat-label>Last name</mat-label>
                            <input formControlName="lastName" matInput required>
                            <mat-icon class="secondary-text" matSuffix>account_circle</mat-icon>
                            <mat-error>Last Name is required!</mat-error>
                        </mat-form-field>

                    </div>

                    <!--occupation-->
                    <div fxFlex="1 0 auto" fxLayout="row" fxLayoutAlign="start center">

                        <mat-form-field appearance="outline" fxFlex="100">
                            <mat-label>Occupation</mat-label>
                            <input formControlName="occupation" matInput required>
                            <mat-error>Occupation is required</mat-error>
                            <mat-icon class="secondary-text" matSuffix>domain</mat-icon>
                        </mat-form-field>

                    </div>

                    <!--ID Number, Gender, DateOf birth-->
                    <div fxFlex="1 0 auto" fxLayout="row" fxLayoutAlign="start center">

                        <mat-form-field appearance="outline" class="pr-4" fxFlex="33">
                            <mat-label>ID number</mat-label>
                            <input type= "number" formControlName="idNumber" matInput required>
                            <mat-icon class="secondary-text" matSuffix>account_circle</mat-icon>
                            <mat-error>ID number is required!</mat-error>
                        </mat-form-field>

                        <mat-form-field appearance="outline" class="pl-4" fxFlex="33">
                            <mat-label>Gender</mat-label>
                            <mat-select formControlName="gender" required>
                                <mat-option [value]="'male'">
                                    Male
                                </mat-option>
                                <mat-option [value]="'female'">
                                    Female
                                </mat-option>
                            </mat-select>

                            <mat-icon class="secondary-text" matSuffix>account_circle</mat-icon>
                            <mat-error>Gender is required!</mat-error>
                        </mat-form-field>

                        <mat-form-field appearance="outline" class="pl-4" fxFlex="33">
                            <mat-label>Enter date of birth</mat-label>
                            <input matInput [matDatepicker]="myDatepicker" formControlName="birthDate">
                            <mat-datepicker-toggle matSuffix [for]="myDatepicker"></mat-datepicker-toggle>
                            <mat-datepicker #myDatepicker></mat-datepicker>

                            <mat-error>Date of birth is required</mat-error>
                            <mat-error>Date of birth should be valid</mat-error>
                        </mat-form-field>

                    </div>


                    <!--Email address-->
                    <div fxFlex="1 0 auto" fxLayout="row wrap" fxLayoutAlign="start center">

                        <mat-form-field appearance="outline" fxFlex="100">
                            <mat-label>Email Address</mat-label>
                            <input matInput placeholder="Enter your email" formControlName="email" required>
                            <mat-error>Address is required!</mat-error>
                        </mat-form-field>

                    </div>

                    <!--How to reach the patient-->
                    <!--Place of work, phone, post Address-->
                    <div fxFlex="1 0 auto" fxLayout="row" fxLayoutAlign="start center">

                        <mat-form-field appearance="outline" fxFlex="33">
                            <mat-label>Place of work</mat-label>
                            <input formControlName="workplace" matInput required>
                            <mat-icon class="secondary-text" matSuffix>location_city</mat-icon>
                            <mat-error>Place of work is required</mat-error>
                        </mat-form-field>

                        <mat-form-field appearance="outline" class="px-8" fxFlex="34">
                            <mat-label>Mobile Number</mat-label>
                            <input type="number" formControlName="phone" matInput required>
                            <mat-icon class="secondary-text" matSuffix>local_phone</mat-icon>
                            <mat-error>Phone number is required!</mat-error>
                        </mat-form-field>

                        <mat-form-field appearance="outline" fxFlex="33">
                            <mat-label>Postal Code</mat-label>
                            <input #postalCode formControlName="postalCode" matInput
                                   maxlength="10" required>
                            <mat-icon class="secondary-text" matSuffix>markunread_mailbox</mat-icon>
                            <mat-hint align="end">{{postalCode.value.length}} / 10</mat-hint>
                            <mat-error>Postal Code is required!</mat-error>
                        </mat-form-field>

                    </div>


                    <!--Insurance company, Insurance Number-->
                    <div fxFlex="1 0 auto" fxLayout="row" fxLayoutAlign="start center">

                        <mat-form-field appearance="outline" class="pr-4" fxFlex="50">
                            <mat-label>Insurance Company</mat-label>

                            <input type="text" matInput formControlName="insuranceComp" [matAutocomplete]="auto">
                            <mat-autocomplete autoActiveFirstOption #auto="matAutocomplete">
                                <mat-option *ngFor="let option of filteredOptions | async" [value]="option?.name">
                                    {{option?.name}}
                                </mat-option>
                            </mat-autocomplete>
                            <mat-icon class="secondary-text" matSuffix>local_hospital</mat-icon>
                            <mat-error>Insurance should be among the list.</mat-error>
                        </mat-form-field>

                        <mat-form-field appearance="outline" class="pl-4" fxFlex="50">
                            <mat-label>Insurance Number</mat-label>
                            <input formControlName="insuranceNO" matInput required>
                            <mat-icon class="secondary-text" matSuffix>confirmation_number</mat-icon>

                            <mat-error>Issurance number is required</mat-error>

                        </mat-form-field>

                    </div>

                    <!--Relationship status-->
                    <div fxFlex="1 0 auto" fxLayout="row" fxLayoutAlign="start center">

                        <mat-form-field appearance="outline" fxFlex="100">
                            <mat-label>Relationship Status</mat-label>
                            <mat-select formControlName="rShip" required>
                                <mat-option [value]="'single'">
                                    Single
                                </mat-option>
                                <mat-option [value]="'married'">
                                    Married
                                </mat-option>
                            </mat-select>
                            <mat-icon class="secondary-text" matSuffix>outlined_flag</mat-icon>
                            <mat-error>Country is required!</mat-error>
                        </mat-form-field>

                    </div>

                    <!--Next of kin-->
                    <div fxFlex="1 0 auto" fxLayout="row" fxLayoutAlign="start center">

                        <mat-form-field appearance="outline" class="pr-4" fxFlex="50">
                            <mat-label>Next of kin</mat-label>
                            <input formControlName="kin" matInput required>
                            <mat-icon class="secondary-text" matSuffix>local_hospital</mat-icon>
                        </mat-form-field>

                        <mat-form-field appearance="outline" class="pl-4" fxFlex="50">
                            <mat-label>Kin Phone</mat-label>
                            <input formControlName="kinPhone" matInput required type="number">
                            <mat-icon class="secondary-text" matSuffix>local_phone</mat-icon>
                        </mat-form-field>
                    </div>

                    <div fxFlex="1 0 auto" fxLayout="row" fxLayoutAlign="center center">
                        <button mat-stroked-button color="primary" fxFlex="50">Save Patient</button>
                    </div>

                </form>
            </div>
        </div>
    </div>
</div>